<div style="        display: grid;
place-items: center;">
    <div class="container">
        <div class="header" style="margin-top: 30px; width: 100%;">
            
            <div class="header__title">
                <h1>{{reqReceived?.type}}</h1>
                <h3 style="font-style: italic;">Solicitado por proyecto {{reqReceived?.initials}}</h3>
            </div>
            <div class="header__data" style="text-align: end;">
                <p class="header__data--n">Nro {{reqReceived?.idSpendingUnitRequest}}</p>
                <p style="font-style: italic;">Emitido el {{reqReceived?.date}}</p>
            </div>
            <h3 id="solicitante">Solicitante: <p>{{reqReceived?.username}}</p></h3>
        </div>
        <div class="section" style="width: 100%;">
            <mat-accordion>
                <mat-expansion-panel expanded  (opened)="panelOpenState = true" 
                                     (closed)="panelOpenState = false" class="section--desc" >
                  <mat-expansion-panel-header style="background-color:  #fafafa;">
                    <mat-panel-title style="font-weight: bold;">
                      DESCRIPCIÓN
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <p style="margin-top: 10px; font-size: 17px;">Lista de productos/servicios</p>



                  <div style="display: grid; place-items: center;">
                    <table mat-table [dataSource]="dataSource" class="mat-elevation-z5">

                    <ng-container matColumnDef="index" >
                        <th mat-header-cell *matHeaderCellDef style="text-align: center;font-weight: bold;"> Nro </th>
                        <td mat-cell *matCellDef="let element;let i=index;" style="text-align: center;" > {{i+1}} </td>
                    </ng-container>

                    <ng-container *ngFor="let columna of columnas" matColumnDef="{{columna.name}}" >
                      <th mat-header-cell *matHeaderCellDef style="text-align: center;  min-width: 85px; font-weight: bold;"> {{columna.titulo}}  </th>
                      <td mat-cell *matCellDef="let element" style="min-width: 85px;text-align: center;"> {{element[columna.name]}} </td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  </table></div>

                  <div class="desc__foot" style=" margin-top: 25px;">
                        <div >
                            <h3 style="  text-align: end;">Total estimado: 
                                <p style="display: inline-flex; font-weight: 400;">Bs. {{reqReceived?.estimatedAmount}}</p> 
                            </h3>
                        </div>
                        <h3 >Justificación:</h3>
                        <p style="margin:0 20px 0 20px;">{{reqReceived?.justification}} Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet</p>
                  </div>
                  <div  style="text-align: end; margin-bottom: 10px; margin-top: 15px;">
                        <button mat-raised-button class="btn-raised-e">RECHAZAR</button>
                        <button mat-raised-button class="btn-raised-s">AUTORIZAR</button>
                  </div>
                </mat-expansion-panel>

                <!--p> SEGUNDA SECCION</p-->
                <mat-expansion-panel  (opened)="panelOpenState = true"
                (closed)="panelOpenState = false" class="section--desc" >
                <mat-expansion-panel-header style="background-color:  #fafafa;">
                <mat-panel-title style="font-weight: bold;">
                COTIZACIONES
                </mat-panel-title> 
                </mat-expansion-panel-header>
            <div>
          
                <!--mat-form-field appearance="fill">
                    <mat-label>Elija una fecha limite</mat-label>
                    <input matInput [matDatepicker]="picker">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field-->
                <div>

                </div>
                <div style="text-align: center; margin-top: 25px;">
                    <button mat-raised-button class="btn-raised-p" (click)="openDialog()" > <mat-icon>add</mat-icon> COTIZACIÓN</button>
                </div>
            </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>
</div>
<style>
    mat-expansion-panel{
        margin-top: 15px;
    }
    table {
        width:85%;
        overflow: auto;

    }

    .container{
        margin-top: 50px;
        margin-bottom: 100px;
        padding: 0 15px 0 15px;

        background-color: rgb(255, 255, 255);
        width: 80%;
        min-width: 800px;

        min-height: max-content;
    }
    .header__title{
        text-align: center;
    }
    .header__title h3{
        font-weight: lighter;
        line-height: 0px;
    }

    .header__data--n {
        color: var(--txt-color-error);
        font-weight: 500;
    }
    .header__data p{
        line-height: 15px;
    }
    #solicitante{
        display: flex;
        font-size: 17px;
        font-weight: bolder;
        color: var(--txt-color-subt);
    }
    #solicitante p{
        margin-left: 10px;
        font-weight: 400;
    }
    .desc__foot h3{

        font-size: 17px;
        font-weight: bolder;
        color: var(--txt-color-subt);
        line-height: 15px;
    }
    .btn-raised-e{
        background-color: var(--btn-color-error);
        color:white;
        margin-right: 20px;
    }
    .btn-raised-s{
        color:white;
        background-color: var(--btn-color-scss);margin-right: 20px;
    }
    .btn-raised-p{
        background-color: var(--btn-color-pri);
        color:white;

    }
</style>
